{"remainingRequest":"/Users/fengzishuo/Desktop/开发文件夹/py开发/bbs_rectify_软测课设/router/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fengzishuo/Desktop/开发文件夹/py开发/bbs_rectify_软测课设/router/test/src/views/createMessage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fengzishuo/Desktop/开发文件夹/py开发/bbs_rectify_软测课设/router/test/src/views/createMessage.vue","mtime":1625726524000},{"path":"/Users/fengzishuo/Desktop/开发文件夹/py开发/bbs_rectify_软测课设/router/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengzishuo/Desktop/开发文件夹/py开发/bbs_rectify_软测课设/router/test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/fengzishuo/Desktop/开发文件夹/py开发/bbs_rectify_软测课设/router/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fengzishuo/Desktop/开发文件夹/py开发/bbs_rectify_软测课设/router/test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgInF1aWxsL2Rpc3QvcXVpbGwuY29yZS5jc3MiOw0KaW1wb3J0ICJxdWlsbC9kaXN0L3F1aWxsLnNub3cuY3NzIjsNCmltcG9ydCAicXVpbGwvZGlzdC9xdWlsbC5idWJibGUuY3NzIjsNCmltcG9ydCB7cmVxdWVzdH0gZnJvbSAnLi4vbmV0d29yay9yZXF1ZXN0Jw0KaW1wb3J0IHsgcXVpbGxFZGl0b3IgfSBmcm9tICJ2dWUtcXVpbGwtZWRpdG9yIjsNCg0KLy8g5bel5YW35qCP6YWN572uDQpjb25zdCB0b29sYmFyT3B0aW9ucyA9IFsNCiAgWyJib2xkIiwgIml0YWxpYyIsICJ1bmRlcmxpbmUiLCAic3RyaWtlIl0sIC8vIOWKoOeylyDmlpzkvZMg5LiL5YiS57q/IOWIoOmZpOe6vyAtLS0tLVsnYm9sZCcsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJ3N0cmlrZSddDQogIFsiYmxvY2txdW90ZSIsICJjb2RlLWJsb2NrIl0sIC8vIOW8leeUqCAg5Luj56CB5Z2XLS0tLS1bJ2Jsb2NrcXVvdGUnLCAnY29kZS1ibG9jayddDQogIFt7IGhlYWRlcjogMSB9LCB7IGhlYWRlcjogMiB9XSwgLy8gMeOAgTIg57qn5qCH6aKYLS0tLS1beyBoZWFkZXI6IDEgfSwgeyBoZWFkZXI6IDIgfV0NCiAgW3sgbGlzdDogIm9yZGVyZWQiIH0sIHsgbGlzdDogImJ1bGxldCIgfV0sIC8vIOacieW6j+OAgeaXoOW6j+WIl+ihqC0tLS0tW3sgbGlzdDogJ29yZGVyZWQnIH0sIHsgbGlzdDogJ2J1bGxldCcgfV0NCiAgW3sgc2NyaXB0OiAic3ViIiB9LCB7IHNjcmlwdDogInN1cGVyIiB9XSwgLy8g5LiK5qCHL+S4i+aghy0tLS0tW3sgc2NyaXB0OiAnc3ViJyB9LCB7IHNjcmlwdDogJ3N1cGVyJyB9XQ0KICBbeyBpbmRlbnQ6ICItMSIgfSwgeyBpbmRlbnQ6ICIrMSIgfV0sIC8vIOe8qei/my0tLS0tW3sgaW5kZW50OiAnLTEnIH0sIHsgaW5kZW50OiAnKzEnIH1dDQogIFt7IGRpcmVjdGlvbjogInJ0bCIgfV0sIC8vIOaWh+acrOaWueWQkS0tLS0tW3snZGlyZWN0aW9uJzogJ3J0bCd9XQ0KICBbeyBzaXplOiBbInNtYWxsIiwgZmFsc2UsICJsYXJnZSIsICJodWdlIl0gfV0sIC8vIOWtl+S9k+Wkp+Wwjy0tLS0tW3sgc2l6ZTogWydzbWFsbCcsIGZhbHNlLCAnbGFyZ2UnLCAnaHVnZSddIH1dDQogIFt7IGhlYWRlcjogWzEsIDIsIDMsIDQsIDUsIDYsIGZhbHNlXSB9XSwgLy8g5qCH6aKYLS0tLS1beyBoZWFkZXI6IFsxLCAyLCAzLCA0LCA1LCA2LCBmYWxzZV0gfV0NCiAgW3sgY29sb3I6IFtdIH0sIHsgYmFja2dyb3VuZDogW10gfV0sIC8vIOWtl+S9k+minOiJsuOAgeWtl+S9k+iDjOaZr+minOiJsi0tLS0tW3sgY29sb3I6IFtdIH0sIHsgYmFja2dyb3VuZDogW10gfV0NCiAgW3sgZm9udDogW10gfV0sIC8vIOWtl+S9k+enjeexuy0tLS0tW3sgZm9udDogW10gfV0NCiAgW3sgYWxpZ246IFtdIH1dLCAvLyDlr7npvZDmlrnlvI8tLS0tLVt7IGFsaWduOiBbXSB9XQ0KICBbImNsZWFuIl0sIC8vIOa4hemZpOaWh+acrOagvOW8jy0tLS0tWydjbGVhbiddDQogIFsiaW1hZ2UiLCAidmlkZW8iXSwgLy8g6ZO+5o6l44CB5Zu+54mH44CB6KeG6aKRLS0tLS1bJ2xpbmsnLCAnaW1hZ2UnLCAndmlkZW8nXQ0KXTsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAiIiwNCiAgY29tcG9uZW50czogew0KICAgIHF1aWxsRWRpdG9yLA0KICB9LA0KICBiZWZvcmVDcmVhdGUoKSB7DQogICAgKGxvY2FsU3RvcmFnZS5tZXNzYWdlSWQgPSAwKSwgKGxvY2FsU3RvcmFnZS5tZXNzYWdlTGlzdCA9IFtdKTsNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgb3B0aW9uczogWw0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6ICLlrabkuaDkuqTmtYEiLA0KICAgICAgICAgIGxhYmVsOiAi5a2m5Lmg5Lqk5rWBIiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHZhbHVlOiAi5b2x6KeG5paH5a2mIiwNCiAgICAgICAgICBsYWJlbDogIuW9seinhuaWh+WtpiIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB2YWx1ZTogIuWQg+WWneeOqeS5kCIsDQogICAgICAgICAgbGFiZWw6ICLlkIPllp3njqnkuZAiLA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdmFsdWU6ICLmg4XmhJ/moJHmtJ4iLA0KICAgICAgICAgIGxhYmVsOiAi5oOF5oSf5qCR5rSeIiwNCiAgICAgICAgfSwNCiAgICAgIF0sDQogICAgICBtZXNzYWdlSWQ6IHBhcnNlSW50KGxvY2FsU3RvcmFnZS5tZXNzYWdlSWQpLA0KICAgICAgbWVzc2FnZUxpc3Q6IFtdLA0KICAgICAgaGVhZGxpbmU6ICIiLA0KICAgICAgY29udGVudDogIiIsDQogICAgICB2YWx1ZTogIiIsDQogICAgICB1bmlxdWVJZDogInVuaXF1ZUlkIiwNCiAgICAgIC8v5a+M5paH5pys57yW6L6R5Zmo6YWN572uDQogICAgICBlZGl0b3JPcHRpb246IHsNCiAgICAgICAgbW9kdWxlczogew0KICAgICAgICAgIHRvb2xiYXI6IHRvb2xiYXJPcHRpb25zLA0KICAgICAgICB9LA0KICAgICAgICB0aGVtZTogInNub3ciLA0KICAgICAgICBwbGFjZWhvbGRlcjogIuivt+i+k+WFpeeVmeiogOWGheWuuSIsDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLy/lvZPliY3lr4zmlofmnKzlrp7kvosNCiAgICBlZGl0b3IoKSB7DQogICAgICByZXR1cm4gdGhpcy4kcmVmcy5teVF1aWxsRWRpdG9yLnF1aWxsOw0KICAgIH0sDQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgIHBvc3QoKSB7DQogICAgICB0aGlzLiRjb25maXJtKCLmmK/lkKblj5HluIPnlZnoqIA/IiwgIuaPkOekuiIsIHsNCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLA0KICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwNCiAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgIGlmICh0aGlzLmhlYWRsaW5lID09ICIiKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgICAgICAgICBtZXNzYWdlOiAi55WZ6KiA5qCH6aKY5LiN6IO95Li656m6IiwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jb250ZW50ID09ICIiKSB7DQogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgICAgICAgICBtZXNzYWdlOiAi55WZ6KiA5YaF5a655LiN6IO95Li656m6IiwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy52YWx1ZSA9PSAiIikgew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgICAgICAgICAgbWVzc2FnZTogIuivt+mAieaLqeeVmeiogOexu+WeiyIsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzOw0KICAgICAgICAgICAgcmVxdWVzdCh7DQogICAgICAgICAgICAgIG1ldGhvZDogInBvc3QiLA0KICAgICAgICAgICAgICB1cmw6ICJodHRwOi8vMTI3LjAuMC4xOjUwMDAvY3JlYXRlTWVzc2FnZSIsDQogICAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICBoZWFkbGluZTogdGhhdC5oZWFkbGluZSwNCiAgICAgICAgICAgICAgICBjb250ZW50OiB0aGF0LmNvbnRlbnQsDQogICAgICAgICAgICAgICAgdHlwZTogdGhhdC52YWx1ZSwNCiAgICAgICAgICAgICAgICB1c2VybmFtZTogbG9jYWxTdG9yYWdlLnVzZXJuYW1lLA0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlcykgew0KICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YVswXSA9PSAic3VjY2VzcyIpIHsNCiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5oZWFkbGluZSA9IHRoYXQuaGVhZGxpbmU7DQogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UuY29udGVudCA9IHRoYXQuY29udGVudDsNCiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS52YWx1ZSA9IHRoYXQudmFsdWU7DQogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UuY3JlYXRlVGltZSA9IHJlcy5kYXRhWzFdOw0KICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlYWRDb3VudCA9IHJlcy5kYXRhWzJdOw0KICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlcGx5Q291bnQgPSByZXMuZGF0YVszXTsNCiAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5tZXNzYWdlSWQgPSByZXMuZGF0YVswXTsNCiAgICAgICAgICAgICAgICAgIHRoYXQuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLlj5HluIPmiJDlip8iLA0KICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICB0aGF0LiRyb3V0ZXIucHVzaCh7DQogICAgICAgICAgICAgICAgICAgIHBhdGg6ICJtZXNzYWdlRGV0YWlsIiwNCiAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsNCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICB0eXBlOiAiaW5mbyIsDQogICAgICAgICAgICBtZXNzYWdlOiAi5bey5Y+W5raI5Y+R5biDIiwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgfSwNCg0KICAgIGNsZWFyKCkgew0KICAgICAgdGhpcy4kY29uZmlybSgi5piv5ZCm5riF56m655WZ6KiAPyIsICLmj5DnpLoiLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsDQogICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgIH0pDQogICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLmNvbnRlbnQgPSAiIjsNCiAgICAgICAgICB0aGlzLmhlYWRsaW5lID0gIiI7DQogICAgICAgICAgdGhpcy52YWx1ZSA9ICIiOw0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgICAgbWVzc2FnZTogIua4heepuuaIkOWKnyIsDQogICAgICAgICAgfSk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICB0eXBlOiAiaW5mbyIsDQogICAgICAgICAgICBtZXNzYWdlOiAi5bey5Y+W5raI5riF56m6IiwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgfSwNCg0KICAgIC8vIOWHhuWkh+WvjOaWh+acrOe8lui+keWZqA0KICAgIG9uRWRpdG9yUmVhZHkoKSB7fSwNCiAgICAvLyDlr4zmlofmnKznvJbovpHlmagg5aSx5Y6754Sm54K55LqL5Lu2DQogICAgb25FZGl0b3JCbHVyKCkge30sDQogICAgLy8g5a+M5paH5pys57yW6L6R5ZmoIOiOt+W+l+eEpueCueS6i+S7tg0KICAgIG9uRWRpdG9yRm9jdXMoKSB7fSwNCiAgICAvLyDlr4zmlofmnKznvJbovpHlmagg5YaF5a655pS55Y+Y5LqL5Lu2DQogICAgb25FZGl0b3JDaGFuZ2UoKSB7fSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["createMessage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"createMessage.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <el-form\r\n      label-width=\"80px\"\r\n      size=\"small\"\r\n      label-position=\"right\"\r\n      style=\"margin: 20px\"\r\n    >\r\n      <el-form-item label=\"留言标题\">\r\n        <el-input\r\n          type=\"text\"\r\n          placeholder=\"请输入标题\"\r\n          v-model=\"headline\"\r\n          maxlength=\"10\"\r\n          show-word-limit\r\n        >\r\n        </el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"留言内容\">\r\n        <div>\r\n          <quill-editor\r\n            v-model=\"content\"\r\n            ref=\"myQuillEditor\"\r\n            :options=\"editorOption\"\r\n            @focus=\"onEditorFocus($event)\"\r\n            @blur=\"onEditorBlur($event)\"\r\n            @change=\"onEditorChange($event)\"\r\n            class=\"editor\"\r\n          ></quill-editor>\r\n\r\n          <form\r\n            action\r\n            method=\"post\"\r\n            enctype=\"multipart/form-data\"\r\n            id=\"uploadFormMulti\"\r\n          >\r\n            <input\r\n              style=\"display: none\"\r\n              :id=\"uniqueId\"\r\n              type=\"file\"\r\n              name=\"file\"\r\n              multiple\r\n              accept=\"image/jpg, image/jpeg, image/png, image/gif\"\r\n              @change=\"uploadImg('uploadFormMulti')\"\r\n            />\r\n          </form>\r\n        </div>\r\n\r\n        <!-- <el-input\r\n          type=\"textarea\"\r\n          :autosize=\"{ minRows: 10, maxRows: 50 }\"\r\n          placeholder=\"请输入内容\"\r\n          v-model=\"content\"\r\n          maxlength=\"200\"\r\n          show-word-limit\r\n        >\r\n        </el-input> -->\r\n      </el-form-item>\r\n      <el-form-item label=\"留言类型\">\r\n        <div style=\"position: absolute; left: 10px; display: inline-block\">\r\n          <el-select size=\"medium\" v-model=\"value\" placeholder=\"请选择类型\">\r\n            <el-option\r\n              v-for=\"item in options\"\r\n              :key=\"item.value\"\r\n              :label=\"item.label\"\r\n              :value=\"item.value\"\r\n            >\r\n            </el-option>\r\n          </el-select>\r\n        </div>\r\n        <div style=\"position: absolute; right: 10px; display: inline-block\">\r\n          <el-button plain type=\"primary\" @click=\"post\">发布留言</el-button>\r\n          <el-button plain type=\"danger\" @click=\"clear\">清空留言</el-button>\r\n        </div>\r\n      </el-form-item>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"quill/dist/quill.core.css\";\r\nimport \"quill/dist/quill.snow.css\";\r\nimport \"quill/dist/quill.bubble.css\";\r\nimport {request} from '../network/request'\r\nimport { quillEditor } from \"vue-quill-editor\";\r\n\r\n// 工具栏配置\r\nconst toolbarOptions = [\r\n  [\"bold\", \"italic\", \"underline\", \"strike\"], // 加粗 斜体 下划线 删除线 -----['bold', 'italic', 'underline', 'strike']\r\n  [\"blockquote\", \"code-block\"], // 引用  代码块-----['blockquote', 'code-block']\r\n  [{ header: 1 }, { header: 2 }], // 1、2 级标题-----[{ header: 1 }, { header: 2 }]\r\n  [{ list: \"ordered\" }, { list: \"bullet\" }], // 有序、无序列表-----[{ list: 'ordered' }, { list: 'bullet' }]\r\n  [{ script: \"sub\" }, { script: \"super\" }], // 上标/下标-----[{ script: 'sub' }, { script: 'super' }]\r\n  [{ indent: \"-1\" }, { indent: \"+1\" }], // 缩进-----[{ indent: '-1' }, { indent: '+1' }]\r\n  [{ direction: \"rtl\" }], // 文本方向-----[{'direction': 'rtl'}]\r\n  [{ size: [\"small\", false, \"large\", \"huge\"] }], // 字体大小-----[{ size: ['small', false, 'large', 'huge'] }]\r\n  [{ header: [1, 2, 3, 4, 5, 6, false] }], // 标题-----[{ header: [1, 2, 3, 4, 5, 6, false] }]\r\n  [{ color: [] }, { background: [] }], // 字体颜色、字体背景颜色-----[{ color: [] }, { background: [] }]\r\n  [{ font: [] }], // 字体种类-----[{ font: [] }]\r\n  [{ align: [] }], // 对齐方式-----[{ align: [] }]\r\n  [\"clean\"], // 清除文本格式-----['clean']\r\n  [\"image\", \"video\"], // 链接、图片、视频-----['link', 'image', 'video']\r\n];\r\n\r\nexport default {\r\n  name: \"\",\r\n  components: {\r\n    quillEditor,\r\n  },\r\n  beforeCreate() {\r\n    (localStorage.messageId = 0), (localStorage.messageList = []);\r\n  },\r\n  data() {\r\n    return {\r\n      options: [\r\n        {\r\n          value: \"学习交流\",\r\n          label: \"学习交流\",\r\n        },\r\n        {\r\n          value: \"影视文学\",\r\n          label: \"影视文学\",\r\n        },\r\n        {\r\n          value: \"吃喝玩乐\",\r\n          label: \"吃喝玩乐\",\r\n        },\r\n        {\r\n          value: \"情感树洞\",\r\n          label: \"情感树洞\",\r\n        },\r\n      ],\r\n      messageId: parseInt(localStorage.messageId),\r\n      messageList: [],\r\n      headline: \"\",\r\n      content: \"\",\r\n      value: \"\",\r\n      uniqueId: \"uniqueId\",\r\n      //富文本编辑器配置\r\n      editorOption: {\r\n        modules: {\r\n          toolbar: toolbarOptions,\r\n        },\r\n        theme: \"snow\",\r\n        placeholder: \"请输入留言内容\",\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    //当前富文本实例\r\n    editor() {\r\n      return this.$refs.myQuillEditor.quill;\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    post() {\r\n      this.$confirm(\"是否发布留言?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          if (this.headline == \"\") {\r\n            this.$message({\r\n              type: \"warning\",\r\n              message: \"留言标题不能为空\",\r\n            });\r\n          } else if (this.content == \"\") {\r\n            this.$message({\r\n              type: \"warning\",\r\n              message: \"留言内容不能为空\",\r\n            });\r\n          } else if (this.value == \"\") {\r\n            this.$message({\r\n              type: \"warning\",\r\n              message: \"请选择留言类型\",\r\n            });\r\n          } else {\r\n            var that = this;\r\n            request({\r\n              method: \"post\",\r\n              url: \"http://127.0.0.1:5000/createMessage\",\r\n              data: {\r\n                headline: that.headline,\r\n                content: that.content,\r\n                type: that.value,\r\n                username: localStorage.username,\r\n              },\r\n            })\r\n              .then(function (res) {\r\n                if (res.data[0] == \"success\") {\r\n                  localStorage.headline = that.headline;\r\n                  localStorage.content = that.content;\r\n                  localStorage.value = that.value;\r\n                  localStorage.createTime = res.data[1];\r\n                  localStorage.readCount = res.data[2];\r\n                  localStorage.replyCount = res.data[3];\r\n                  localStorage.messageId = res.data[0];\r\n                  that.$message({\r\n                    type: \"success\",\r\n                    message: \"发布成功\",\r\n                  });\r\n                  that.$router.push({\r\n                    path: \"messageDetail\",\r\n                  });\r\n                }\r\n              })\r\n              .catch(function (err) {\r\n                console.log(err);\r\n              });\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消发布\",\r\n          });\r\n        });\r\n    },\r\n\r\n    clear() {\r\n      this.$confirm(\"是否清空留言?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          this.content = \"\";\r\n          this.headline = \"\";\r\n          this.value = \"\";\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"清空成功\",\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消清空\",\r\n          });\r\n        });\r\n    },\r\n\r\n    // 准备富文本编辑器\r\n    onEditorReady() {},\r\n    // 富文本编辑器 失去焦点事件\r\n    onEditorBlur() {},\r\n    // 富文本编辑器 获得焦点事件\r\n    onEditorFocus() {},\r\n    // 富文本编辑器 内容改变事件\r\n    onEditorChange() {},\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n</style>"]}]}