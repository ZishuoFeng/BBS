{"remainingRequest":"/Users/zhaojiaming/Downloads/bbs_rectify/router/test/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhaojiaming/Downloads/bbs_rectify/router/test/src/views/myMessage1.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhaojiaming/Downloads/bbs_rectify/router/test/src/views/myMessage1.vue","mtime":1625726603000},{"path":"/Users/zhaojiaming/Downloads/bbs_rectify/router/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhaojiaming/Downloads/bbs_rectify/router/test/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/zhaojiaming/Downloads/bbs_rectify/router/test/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhaojiaming/Downloads/bbs_rectify/router/test/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge3JlcXVlc3R9IGZyb20gJy4uL25ldHdvcmsvcmVxdWVzdCcNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgaW5wdXQ6ICIiLA0KICAgICAgc2VsZWN0OiAiIiwNCiAgICAgIHF1ZXJ5SW5mbzogew0KICAgICAgICBxdWVyeTogIiIsDQogICAgICAgIHBhZ2VudW06IDEsDQogICAgICB9LA0KICAgICAgZmxhZzogIiIsDQoNCiAgICAgIGN1cnJlbnRfbWVzc2FnZXM6IFtdLA0KICAgICAgYWxsX21lc3NhZ2VzOiBbXSwNCiAgICAgIHRvdGFsOiAxMCwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIGltZzogZnVuY3Rpb24gKCkgew0KICAgICAgcmV0dXJuIGZ1bmN0aW9uICh1cmwpIHsNCiAgICAgICAgcmV0dXJuIHJlcXVpcmUoIi4uL2Fzc2V0cy8iICsgdXJsKTsNCiAgICAgIH07DQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGhhbmRsZVNpemVDaGFuZ2UodmFsKSB7DQogICAgICBjb25zb2xlLmxvZyhg5q+P6aG1ICR7dmFsfSDmnaFgKTsNCiAgICB9LA0KICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UobmV3UGFnZSkgew0KICAgICAgdGhpcy5xdWVyeUluZm8ucGFnZW51bSA9IG5ld1BhZ2U7DQogICAgICAvLyBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3RoaXMucXVlcnlJbmZvLnBhZ2VudW19YCk7DQogICAgICB2YXIgYSA9IHRoaXMucXVlcnlJbmZvLnBhZ2VudW07DQogICAgICAvLyBjb25zb2xlLmxvZyhhKTsNCiAgICAgIHRoaXMuY3VycmVudF9tZXNzYWdlcyA9IHRoaXMuYWxsX21lc3NhZ2VzLnNsaWNlKDMgKiBhIC0gMywgMyAqIGEpOw0KICAgICAgLy8gY29uc29sZS5sb2coYOW9k+WJjWN1cnJldF9tZXNzYWdlc+mVv+W6pjogJHt0aGlzLmN1cnJlbnRfbWVzc2FnZXN9YCk7DQogICAgfSwNCiAgICBqdW1wKG1lc3NhZ2VJZCwgdHlwZSkgew0KICAgICAgbG9jYWxTdG9yYWdlLm1lc3NhZ2VJZCA9IG1lc3NhZ2VJZDsNCiAgICAgIGxvY2FsU3RvcmFnZS50eXBlID0gdHlwZTsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgcGF0aDogIm1lc3NhZ2VEZXRhaWwiLA0KICAgICAgfSk7DQogICAgfSwNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmZsYWcgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsNCiAgICBjb25zb2xlLmxvZyh0aGlzLmZsYWcpOw0KICAgIHZhciB0aGF0ID0gdGhpczsNCiAgICByZXF1ZXN0KHsNCiAgICAgIG1ldGhvZDogIiIsDQogICAgICB1cmw6ICJodHRwOi8vMTI3LjAuMC4xOjUwMDAvbXlNZXNzYWdlMS8iICsgdGhpcy5mbGFnLA0KICAgIH0pDQogICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgIC8vIHRoYXQuYWxsX21lc3NhZ2VzID0gcmVzLmRhdGE7DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhKQ0KICAgICAgICAvLyBmb3IodmFyIGkgaW4gcmVzLmRhdGEpew0KICAgICAgICAvLyAgIHRoYXQuYWxsX21lc3NhZ2VzW2ldPXJlcy5kYXRhW2ldDQogICAgICAgIC8vIH0NCiAgICAgICAgLy8gSlNPTi5wYXJzZSh0aGF0LmFsbF9tZXNzYWdlcykNCiAgICAgICAgZm9yICh2YXIgaSBpbiByZXMuZGF0YSkgew0KICAgICAgICAgIHRoYXQuYWxsX21lc3NhZ2VzW2ldID0gcmVzLmRhdGFbaV07DQogICAgICAgIH0NCiAgICAgICAgdGhhdC50b3RhbCA9IHRoYXQuYWxsX21lc3NhZ2VzLmxlbmd0aDsNCiAgICAgICAgdGhhdC5jdXJyZW50X21lc3NhZ2VzPSB0aGF0LmFsbF9tZXNzYWdlcy5zbGljZSgwLDMpOw0KICAgICAgICBjb25zb2xlLmxvZyh0aGF0LmFsbF9tZXNzYWdlcyk7DQoNCiAgICAgICAgLy8gY29uc29sZS5sb2coKTsNCg0KICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnVybCk7DQogICAgICB9KQ0KDQogICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikgew0KICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgfSk7DQogIH0sDQp9Ow0K"},{"version":3,"sources":["myMessage1.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"myMessage1.vue","sourceRoot":"src/views","sourcesContent":["\r\n<template>\r\n  <div style=\"margin-top: 15px\" class=\"moban\">\r\n    \r\n    <div class=\"search-message\">\r\n      <div\r\n        class=\"departmentContent\"\r\n        v-for=\"(item, index) in current_messages\"\r\n        :key=\"index\"\r\n      >\r\n        <img class=\"rounded-circle avatar\" :src=\"img(item[7])\" alt=\"\" />\r\n        <div class=\"departmentInfo\">\r\n          <div class=\"departmentNamesty\" @click=\"jump(item['0'])\" >{{ item[1] }}</div>\r\n\r\n          <div class=\"info\">\r\n            作者: {{ item[6] }}&nbsp;&nbsp;&nbsp; 日期:\r\n            {{ item[2] }}\r\n            &nbsp;&nbsp;&nbsp; 阅读数: {{ item[4] }}&nbsp;&nbsp;&nbsp; 回复数:\r\n            {{ item[4] }}\r\n          </div>\r\n\r\n          <div class=\"message-detail\" v-html=\"item[5]\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <el-pagination\r\n      background\r\n      layout=\"prev, pager, next\"\r\n      :total=\"total\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page=\"queryInfo.pagenum\"\r\n      :page-size=\"3\"\r\n    >\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<style>\r\n.el-select .el-input {\r\n  width: 130px;\r\n}\r\n.input-with-select .el-input-group__prepend {\r\n  background-color: #fff;\r\n}\r\n</style>\r\n<style scoped>\r\n.moban {\r\n  width: 1100px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.search-message {\r\n  box-shadow: 0 0 28px #dee9fe, 0 0 15px rgba(0, 0, 0, 0.04);\r\n  margin-top: 10px;\r\n}\r\n.rounded-circle {\r\n  border-radius: 50% !important;\r\n}\r\n.avatar {\r\n  margin: 15px 0;\r\n  width: 64px;\r\n  height: 64px;\r\n}\r\n.col-left {\r\n  display: inline;\r\n}\r\n.departmentContent {\r\n  padding: 10rpx 0 10rpx 0;\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 80px;\r\n  margin-top: 10px;\r\n}\r\n.departmentContent .departmentInfo {\r\n  padding-left: 20px;\r\n}\r\n.departmentInfo .departmentNamesty {\r\n  font-weight: bold;\r\n  font-size: 18px;\r\n  padding-bottom: 5rpx;\r\n}\r\n.departmentContent .departmentInfo .departmentNamesty {\r\n  text-align: left;\r\n  margin-bottom: 16px;\r\n}\r\n.info {\r\n  font-family: inherit;\r\n  font-size: 14px;\r\n  text-align: left;\r\n}\r\n.departmentInfo .message-detail {\r\n  margin-top: 20px;\r\n  font-size: 16px;\r\n  line-height: 25px;\r\n  text-align: left;\r\n}\r\n</style>\r\n<script>\r\nimport {request} from '../network/request'\r\nexport default {\r\n  data() {\r\n    return {\r\n      input: \"\",\r\n      select: \"\",\r\n      queryInfo: {\r\n        query: \"\",\r\n        pagenum: 1,\r\n      },\r\n      flag: \"\",\r\n\r\n      current_messages: [],\r\n      all_messages: [],\r\n      total: 10,\r\n    };\r\n  },\r\n  computed: {\r\n    img: function () {\r\n      return function (url) {\r\n        return require(\"../assets/\" + url);\r\n      };\r\n    },\r\n  },\r\n  methods: {\r\n    handleSizeChange(val) {\r\n      console.log(`每页 ${val} 条`);\r\n    },\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pagenum = newPage;\r\n      // console.log(`当前页: ${this.queryInfo.pagenum}`);\r\n      var a = this.queryInfo.pagenum;\r\n      // console.log(a);\r\n      this.current_messages = this.all_messages.slice(3 * a - 3, 3 * a);\r\n      // console.log(`当前curret_messages长度: ${this.current_messages}`);\r\n    },\r\n    jump(messageId, type) {\r\n      localStorage.messageId = messageId;\r\n      localStorage.type = type;\r\n      this.$router.push({\r\n        path: \"messageDetail\",\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    this.flag = this.$route.query.id;\r\n    console.log(this.flag);\r\n    var that = this;\r\n    request({\r\n      method: \"\",\r\n      url: \"http://127.0.0.1:5000/myMessage1/\" + this.flag,\r\n    })\r\n      .then((res) => {\r\n        // that.all_messages = res.data;\r\n        // console.log(res.data)\r\n        // for(var i in res.data){\r\n        //   that.all_messages[i]=res.data[i]\r\n        // }\r\n        // JSON.parse(that.all_messages)\r\n        for (var i in res.data) {\r\n          that.all_messages[i] = res.data[i];\r\n        }\r\n        that.total = that.all_messages.length;\r\n        that.current_messages= that.all_messages.slice(0,3);\r\n        console.log(that.all_messages);\r\n\r\n        // console.log();\r\n\r\n        // console.log(this.url);\r\n      })\r\n\r\n      .catch(function (err) {\r\n        console.log(err);\r\n      });\r\n  },\r\n};\r\n</script>"]}]}